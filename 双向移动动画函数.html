<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}
		div {
			width: 200px;
			height: 100px;
			background-color: pink;
			position: absolute;
			margin-top: 40px;
			left: 0;
		}

	</style>
</head>
<body>
	<input type="button" name="" id="btn1" value="移动到400px">
	<input type="button" name="" id="btn2" value="移动到800px">
	<div id="dv"></div>
	<script type="text/javascript">
		// document.getElementById("btn1").onclick=function() {
		// 	var timeId=setInterval(function() {
		// 		var current =document.getElementById("dv").offsetLeft;
		// 		var step=10;
		// 		current+=step;
		// 		if (current==400) {
		// 			clearInterval(timeId);
		// 		}
		// 		document.getElementById("dv").style.left=current+"px";
		// 	},20);
		// };
		// document.getElementById("btn2").onclick=function() {
		// 	var timeId=setInterval(function() {
		// 		var current=document.getElementById("dv").offsetLeft;
		// 		var step=10;
		// 		current+=step;
		// 		if (current==800) {
		// 			clearInterval(timeId);
		// 		}
		// 		document.getElementById("dv").style.left=current+"px";

		// 	},20);
		// };
		document.getElementById("btn1").onclick=function() {
			animate(document.getElementById("dv"),400);
		};
		document.getElementById("btn2").onclick=function() {
			animate(document.getElementById("dv"),800);
		};
		function animate (element,target) {
			clearInterval(element.timeId);
			element.timeId=setInterval(function() {
				var current=element.offsetLeft;
				var step=9;
				strp=current<target?step:-step;
				current+=strp;
				if (Math.abs(target-current)<Math.abs(step)) {
				clearInterval(element.timeId);
				element.style.left=target+"px";
				}
				else {
				element.style.left=current+"px";
				}
			},20);
		};
	</script>
</body>
</html>